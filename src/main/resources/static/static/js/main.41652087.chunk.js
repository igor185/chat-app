(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a(289)},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},168:function(e,t,a){},259:function(e,t,a){},286:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchChats",function(){return f}),a.d(n,"fetchMessages",function(){return v}),a.d(n,"togglePanel",function(){return b});var c=a(0),r=a.n(c),l=a(32),i=a.n(l),s=(a(157),a(158),a(159),a(160),a(70)),o=a(71),u=a(19),m="FETCH_CHATS",d="FETCH_CHATS_DONE",h="FETCH_MESSAGES",E="FETCH_MESSAGES_DONE",p="TOGGLE_PANEL",f=function(){return{type:m}},v=function(e){return{type:h,payload:{id:e}}},b=function(){return{type:p}},w=a(23),g=Object(w.b)(function(e){return{}},function(e){return{actions:Object(u.bindActionCreators)(n,e)}})(function(e){return r.a.createElement("div",{className:"header-wrap"},r.a.createElement("div",{className:"left-side"},r.a.createElement("div",{className:"icon-wrap",onClick:function(){return e.actions.togglePanel()}},r.a.createElement(s.a,{icon:o.a})),r.a.createElement("div",{className:"icon-wrap"},r.a.createElement(s.a,{icon:o.b}))),r.a.createElement("div",{className:"right-size"},r.a.createElement("div",{className:"icon-wrap"},r.a.createElement(s.a,{icon:o.c}))))}),j=(a(168),a(298)),O=function(e){var t=e.name,a=(e.date,e.message),n=e.id;return r.a.createElement("div",{className:"chat-elem-wrap",onClick:function(){return e.onClick(n)}},r.a.createElement(j.a.Group,null,r.a.createElement(j.a,null,r.a.createElement(j.a.Avatar,{src:"https://react.semantic-ui.com/images/avatar/small/joe.jpg"}),r.a.createElement(j.a.Content,null,r.a.createElement(j.a.Author,{as:"a"},t),r.a.createElement(j.a.Metadata,null,r.a.createElement("div",null,"Today at 5:42PM")),r.a.createElement(j.a.Text,null,a.message)))))},y=(a(259),a(299)),C=a(295),N=a(300),x=Object(w.b)(function(e){return{chatList:e.chatList}},function(e){return{actions:Object(u.bindActionCreators)(n,e)}})(function(e){return console.log(e),Object(c.useEffect)(function(){e.chatList.data||e.actions.fetchChats()},[e.actions]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat-list-wrap"},r.a.createElement(y.a,{placeholder:"Search...",fluid:!0}),r.a.createElement(C.a,null),r.a.createElement(N.a,{as:"h3"},"Chats"),e.chatList.data&&e.chatList.data.map(function(t){return r.a.createElement(O,{key:t.id,id:t.id,name:t.user.name,date:t.time,message:t.message,onClick:function(a){return e.actions.fetchMessages(t.chat.id)}})})))}),A=a(296),k=(a(286),function(){return r.a.createElement(y.a,{placeholder:"Type a message...",fluid:!0})}),F=function(){return r.a.createElement(j.a,null,r.a.createElement(j.a.Avatar,{src:"https://react.semantic-ui.com/images/avatar/small/joe.jpg"}),r.a.createElement(j.a.Content,null,r.a.createElement(j.a.Author,{as:"a"},"Matt"),r.a.createElement(j.a.Metadata,null,r.a.createElement("div",null,"Today at 5:42PM")),r.a.createElement(j.a.Text,null,"How artistic!"),r.a.createElement(j.a.Actions,null,r.a.createElement(j.a.Action,null,"Reply"))))},T=function(){return r.a.createElement(r.a.Fragment,null," ",[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}].map(function(e){return r.a.createElement(F,e)}))},L=Object(w.b)(function(e){return{chat:e.chat}},function(e){return{actions:Object(u.bindActionCreators)(n,e)}})(function(e){return r.a.createElement("div",{className:"chat-page-wrapper"},e.chat.isOpen?e.chat.isFetching?r.a.createElement("div",{className:"loader-wrap"},r.a.createElement(A.a,{active:!0,inline:"centered"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"messages-wrap"},r.a.createElement(j.a.Group,null,r.a.createElement(T,null))),r.a.createElement("div",{className:"input-wrap"},r.a.createElement(k,null))):"close")}),P=Object(w.b)(function(e){return{showPanel:e.showPanel}},function(e){return{actions:Object(u.bindActionCreators)(n,e)}})(function(e){return console.log(e),r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{style:{background:"white"}},r.a.createElement(g,null),r.a.createElement("div",{className:"content-wrap"},e.showPanel&&r.a.createElement(x,e),r.a.createElement(L,null))))}),M=(a(287),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(34),H=a.n(S),_=a(48),G="http://localhost:8080",D="".concat(G,"/chats"),W="".concat(G,"/chat/"),B=H.a.mark(I),J=H.a.mark(R),z=H.a.mark($);function I(e){var t;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(D);case 3:return t=e.sent,e.next=6,t.json();case 6:return t=e.sent,e.next=9,Object(_.a)({type:d,payload:t});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},B,null,[[0,11]])}function R(e){var t;return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(W+e.payload.id);case 3:return t=a.sent,a.next=6,t.json();case 6:return t=a.sent,a.next=9,Object(_.a)({type:E,payload:t});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}},J,null,[[0,11]])}function $(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.b)(m,I);case 2:return e.next=4,Object(_.b)(h,R);case 4:case"end":return e.stop()}},z)}var q=a(24),K={chatList:{data:null,isFetching:!1},user:null,chat:{isFetching:!1,isOpen:!0,data:[]},showPanel:!0};function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(q.a)({},e,{chatList:Object(q.a)({},e.chatList,{isFetching:!0})});case p:return Object(q.a)({},e,{showPanel:!e.showPanel});case d:return Object(q.a)({},e,{chatList:Object(q.a)({},e.chatList,{data:t.payload,isFetching:!1})});case h:return Object(q.a)({},e,{chat:Object(q.a)({},e.chat,{isFetching:!0,isOpen:!0})});case E:return Object(q.a)({},e,{chat:Object(q.a)({},e.chat,{data:t.payload,isFetching:!1})});default:return e}}var U=a(141),V=a(139),X=function(){var e=Object(U.a)(),t=Object(u.createStore)(Q,Object(V.composeWithDevTools)(Object(u.applyMiddleware)(e)));return e.run($),t}();i.a.render(r.a.createElement(w.a,{store:X},r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,1,2]]]);
//# sourceMappingURL=main.41652087.chunk.js.map