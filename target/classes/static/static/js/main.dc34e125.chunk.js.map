{"version":3,"sources":["redux/constants.ts","redux/actions.ts","components/Header/index.tsx","components/ChatList/ChatElem/index.tsx","components/ChatList/index.tsx","var/routers.ts","services/socket/socket.ts","components/Message/Input/index.tsx","components/Message/MessageItem.tsx","components/Message/MessageList.tsx","components/ChatPage/index.tsx","components/Chat/index.tsx","components/LoginPage/LoginForm.tsx","helpers/index.ts","components/LoginPage/RegForm.tsx","components/LoginPage/Particles/particles.tsx","components/LoginPage/index.tsx","App.tsx","serviceWorker.ts","helpers/webApi.tsx","redux/saga.ts","redux/reducer.ts","configStore.ts","index.tsx"],"names":["FETCH_CHATS","FETCH_CHATS_DONE","FETCH_MESSAGES","FETCH_MESSAGES_DONE","TOGGLE_PANEL","ADD_NEW_MESSAGE","LOGIN","LOGIN_FAIL","REG","REG_FAIL","CHANGE_PAGE","REMOVE_STORE","FETCH_USER","FETCH_USER_DONE","clearStore","type","types","fetchChats","fetchMessages","chatId","payload","id","togglePanel","newMessage","message","loginUser","login","password","regUser","avatar","changePage","page","fetchUser","connect","state","dispatch","actions","bindActionCreators","props","react_default","a","createElement","className","onClick","index_es","icon","faBars","faSearch","localStorage","removeItem","faSignOutAlt","ChatElem","name","date","Comment","Group","Avatar","src","Content","Author","as","Metadata","Text","chatList","useEffect","data","Fragment","map","elem","ChatList_ChatElem","key","chat","user","username","time","prefix","SOCKET_URL","concat","CHAT_LIST","CHAT_MESSAGES","USER","stompClient","Stomp","over","SockJS","url","socket","Object","objectSpread2","send","bind","action","console","log","subscribe","_ref","body","JSON","parse","MessageInput","Form","onSubmit","e","currentTarget","getElementsByTagName","value","stringify","userId","Input","placeholder","fluid","dayjs","extend","relativeTime","MessageItem","fromNow","Actions","Action","MessageList","Message_MessageItem","isOpen","isFetching","Loader","active","inline","Message_MessageList","Message_Input","showPanel","style","background","components_Header","components_ChatList","components_ChatPage","Dimmer","inverted","loginPage","_useState","useState","_useState2","slicedToArray","setLogin","_useState3","_useState4","setPassword","Grid","textAlign","position","top","left","verticalAlign","Column","width","elements_Header_Header","size","Segment","stacked","iconPosition","onChange","event","error","Button","loading","Message","href","fetchHeaderConfig","headers","Authorization","getItem","imageList","toConsumableArray","amount","res","i","randomProfile","getAvatars","regPage","_useState5","_useState6","setAvatar","dist_default","images","image","onPick","content","initParticles","particlesJS","particles","number","density","enable","value_area","color","shape","stroke","polygon","nb_sides","height","opacity","random","anim","speed","opacity_min","sync","size_min","line_linked","distance","move","direction","straight","out_mode","attract","rotateX","rotateY","interactivity","detect_on","events","onhover","mode","onclick","resize","modes","grab","bubble","duration","repulse","push","particles_nb","remove","retina_detect","config_demo","hide_card","background_color","background_image","background_position","background_repeat","background_size","LoginPage","LoginPage_LoginForm","LoginPage_RegForm","components_LoginPage","components_Chat","Boolean","window","location","hostname","match","request","asyncToGenerator","regenerator_default","mark","_callee","input","init","promise","wrap","_context","prev","next","fetch","sent","ok","Error","statusText","status","json","abrupt","stop","_x","_x2","apply","this","arguments","watchSaga","put","t0","_marked","_context2","_marked2","_context3","method","X-Requested-With","setItem","token","_marked3","_context4","_marked4","_action$payload","_context5","axios","_marked5","_context6","takeLatest","_marked6","initialState","reducer","length","undefined","store","middlewareSaga","createSagaMiddleware","createStore","composeWithDevTools","applyMiddleware","run","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.dc34e125.chunk.js","sourcesContent":["export const FETCH_CHATS = \"FETCH_CHATS\";\nexport const FETCH_CHATS_DONE = \"FETCH_CHATS_DONE\";\n\nexport const FETCH_MESSAGES = \"FETCH_MESSAGES\";\nexport const FETCH_MESSAGES_DONE = \"FETCH_MESSAGES_DONE\";\n\nexport const TOGGLE_PANEL = \"TOGGLE_PANEL\";\n\nexport const ADD_NEW_MESSAGE = \"ADD_NEW_MESSAGE\";\n\n\nexport const LOGIN = \"LOGIN\";\nexport const LOGIN_DONE = \"LOGIN_DONE\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\n\nexport const REG = \"REG\";\nexport const REG_DONE = \"REG_DONE\";\nexport const REG_FAIL = \"REG_FAIL\";\n\nexport const CHANGE_PAGE = \"CHANGE_PAGE\";\nexport const REMOVE_STORE = \"REMOVE_STORE\";\n\nexport const FETCH_USER = \"FETCH_USER\";\nexport const FETCH_USER_DONE = \"FETCH_USER_DONE\";\nexport const FETCH_USER_FAIL = \"FETCH_USER_FAIL\";","import * as types from \"./constants\";\n\nexport const clearStore = () => ({\n  type: types.REMOVE_STORE\n});\n\n\nexport const fetchChats = () => ({\n    type: types.FETCH_CHATS\n});\n\nexport const fetchMessages = (chatId: number) => ({\n    type: types.FETCH_MESSAGES,\n    payload: {\n        id: chatId\n    }\n});\n\nexport const togglePanel = () => ({\n    type: types.TOGGLE_PANEL\n});\n\nexport const newMessage = (message: any) => {\n    return {\n        type: types.ADD_NEW_MESSAGE,\n        payload: {\n            message\n        }\n    }\n};\n\nexport const loginUser = (login: string, password: string) => ({\n    type: types.LOGIN,\n    payload: {\n        login,\n        password\n    }\n});\n\nexport const regUser = (login: string, password: string, avatar: string) => ({\n    type: types.REG,\n    payload: {\n        login,\n        password,\n        avatar\n    }\n});\n\nexport const changePage = (page: string) => ({\n    type: types.CHANGE_PAGE,\n    payload: page\n});\n\nexport const fetchUser = () => ({\n    type: types.FETCH_USER\n});\n","import React from \"react\";\nimport \"./styles.sass\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faBars, faSearch, faSignOutAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport IApp from \"../../model/IApp\";\nimport {bindActionCreators} from \"redux\";\nimport * as actions from \"../../redux/actions\";\nimport {connect} from \"react-redux\";\n\nconst Header = (props: any) => {\n    const onLogOut = () => {\n        localStorage.removeItem('token');\n        props.actions.clearStore();\n    };\n\n\n    return (\n        <div className=\"header-wrap\">\n            <div className=\"left-side\">\n                <div className=\"icon-wrap\" onClick={() => props.actions.togglePanel()}>\n                    <FontAwesomeIcon icon={faBars}/>\n                </div>\n                <div className=\"icon-wrap\">\n                    <FontAwesomeIcon icon={faSearch}/>\n                </div>\n            </div>\n            <div className=\"right-size\">\n                <div className=\"icon-wrap\" onClick={onLogOut}>\n                    <FontAwesomeIcon icon={faSignOutAlt}/>\n                </div>\n            </div>\n\n        </div>\n    )\n};\n\n// togglePanel\nconst mapStateToProps = (state: IApp): any => ({});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    actions: bindActionCreators(actions, dispatch)\n});\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Header);\n","import React from 'react';\nimport \"./styles.sass\"\nimport {Comment} from \"semantic-ui-react\";\n\nexport interface IChatElem {\n    id: number;\n    name: string;\n    date: string;\n    message: string;\n    onClick: (id: number) => void;\n}\n\nconst ChatElem = (props: any) => {\n    const {name, date, message, id} = props;\n    return (\n        <div className=\"chat-elem-wrap\" onClick={() => props.onClick(id)}>\n            <Comment.Group>\n                <Comment>\n                    <Comment.Avatar src='https://react.semantic-ui.com/images/avatar/small/joe.jpg' />\n                    <Comment.Content>\n                        <Comment.Author as='a'>{name}</Comment.Author>\n                        <Comment.Metadata>\n                            <div>Today at 5:42PM</div>\n                        </Comment.Metadata>\n                        <Comment.Text>{message ? message.message : \"\"}</Comment.Text>\n                    </Comment.Content>\n                </Comment>\n                </Comment.Group>\n        </div>\n    )\n};\n\n\nexport default ChatElem;","import ChatElem from \"./ChatElem\";\nimport React, {useEffect} from \"react\";\nimport \"./styles.sass\";\nimport {bindActionCreators} from \"redux\";\nimport * as actions from \"../../redux/actions\";\nimport {connect} from \"react-redux\";\nimport IApp, {IChatList, IChatView} from \"../../model/IApp\";\nimport {Input, Divider, Header} from \"semantic-ui-react\";\n\nconst mapStateToProps = (state: IApp): any => ({\n    chatList: state.chatList\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    actions: bindActionCreators(actions, dispatch)\n});\n\ninterface IChatListProps {\n    actions: typeof actions;\n    chatList: IChatList;\n    chat: IChatView\n}\n\nconst ChatList = (props: IChatListProps) => {\n    useEffect(() => {\n        if (!props.chatList.data)\n            props.actions.fetchChats();\n    }, [props.actions]);\n\n    return (\n        <>\n\n           <div className=\"chat-list-wrap\">\n               {/*<Input placeholder='Search...' fluid/>*/}\n               {/*<Divider />*/}\n               {/*<Header as='h3'>Chats</Header>*/}\n                {props.chatList.data && props.chatList.data.map(elem => <ChatElem key={elem.chat.id} id={elem.chat.id}\n                                                                                  name={elem.user.username}\n                                                                                  date={elem.time}\n                                                                                  message={elem.message}\n                                                                                  onClick={(id: number) => props.actions.fetchMessages(elem.chat.id)}/>)}\n            </div>\n        </>\n    )\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ChatList);","// const prefix = \"https://igor-babin-chat-java.herokuapp.com\";\nconst prefix = \"http://localhost:8080\";\n\n\nexport const SOCKET_URL = `${prefix}/ws`;\nexport const CHAT_LIST = `${prefix}/api/chats`;\nexport const CHAT_MESSAGES = `${prefix}/api/chat/`;\nexport const LOGIN = `${prefix}/api/auth/login`;\nexport const USER = `${prefix}/api/me`;\nexport const REG = `${prefix}/req`;","import SockJS from \"sockjs-client\";\nimport Stomp from 'stompjs';\nimport * as actions from \"../../redux/actions\";\nimport * as url from '../../var/routers'\n\nconst stompClient = Stomp.over(new SockJS(url.SOCKET_URL));\n\n\nconst connect = (action: typeof actions) => {\n    stompClient.connect({}, () => {\n        console.log('Connected');\n        stompClient.subscribe('/res/new-message', ({ body }) => action.newMessage(JSON.parse(body)));\n    });\n};\n\nexport default {\n    ...stompClient,\n    send: stompClient.send.bind(stompClient),\n    connect\n};","import React from 'react';\nimport {Form, Input} from 'semantic-ui-react'\nimport socket from \"../../../services/socket/socket\";\n\n\nexport const MessageInput = () => {\n    const sendMessage = (message: string) => {\n        socket.send('/req/new-message', {}, JSON.stringify({\n            chatId: 4,\n            userId: 1,\n            message\n        }))\n    };\n    return <Form onSubmit={(e) => sendMessage(e.currentTarget.getElementsByTagName(\"input\")[0].value)}>\n        <Input placeholder='Type a message...' fluid/>\n    </Form>\n};\n\n\n\nexport default MessageInput;","import {Comment} from \"semantic-ui-react\";\nimport React from \"react\";\nimport {IMessage} from \"../../model/IApp\";\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime'\ndayjs.extend(relativeTime);\n\n\nexport const MessageItem = (props: IMessage) => {\n    return (<Comment>\n        <Comment.Avatar src='https://react.semantic-ui.com/images/avatar/small/joe.jpg'/>\n        <Comment.Content>\n            <Comment.Author as='a'>{props.user.username}</Comment.Author>\n            <Comment.Metadata>\n                <div>{dayjs(props.time).fromNow()}</div>\n            </Comment.Metadata>\n            <Comment.Text>{props.message}</Comment.Text>\n            <Comment.Actions>\n                <Comment.Action>Reply</Comment.Action>\n            </Comment.Actions>\n        </Comment.Content>\n    </Comment>)\n};\n\n\n\nexport default MessageItem;","import MessageItem from \"./MessageItem\";\nimport React from \"react\";\n\n\nexport const MessageList = (props: any) => {\n    return <> {props.chat.data.map((elem: any) => <MessageItem {...elem as any}/>) }</>\n};\n\n\n\nexport default MessageList;","import React from 'react';\nimport {connect} from \"react-redux\";\nimport IApp from \"../../model/IApp\";\nimport {bindActionCreators} from \"redux\";\nimport * as actions from \"../../redux/actions\";\nimport {Header, Loader, Comment} from 'semantic-ui-react'\nimport './styles.sass'\nimport MessageInput from \"../Message/Input\";\nimport MessageList from \"../Message/MessageList\";\n\n\nconst ChatPage = (props: any) => {\n\n\n    return (\n        <div className=\"chat-page-wrapper\">\n            {props.chat.isOpen ? (\n                props.chat.isFetching ?\n                    (<div className=\"loader-wrap\">\n                        <Loader active inline='centered'/>\n                    </div>) :\n                    (\n                        <>\n                            <div className=\"messages-wrap\">\n                                <Comment.Group>\n                                    <MessageList {...props} />\n                                </Comment.Group>\n                            </div>\n                            <div className=\"input-wrap\">\n                                <MessageInput />\n                            </div>\n                        </>\n                    )\n            ) : (\n                \"close\"\n            )}\n        </div>\n    )\n};\n\n\nconst mapStateToProps = (state: IApp): any => ({\n    chat: state.chat\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    actions: bindActionCreators(actions, dispatch)\n});\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ChatPage);\n","import React, {useEffect} from 'react';\nimport './styles.sass';\nimport Header from \"../Header\";\nimport ChatList from \"../ChatList\";\nimport ChatPage from \"../ChatPage\";\nimport IApp from \"../../model/IApp\";\nimport {bindActionCreators} from \"redux\";\nimport * as actions from \"../../redux/actions\";\nimport {connect} from \"react-redux\";\nimport socket from '../../services/socket/socket';\nimport {Dimmer, Loader} from \"semantic-ui-react\";\n\nconst Chat = (props: any) => {\n    useEffect(() => {\n        socket.connect(props.actions)\n    }, [props.actions]);\n\n    useEffect(() => {\n        props.actions.fetchUser();\n    }, [props.actions]);\n    return (\n        props.user.data && !props.user.isFetching ? (\n        <div className=\"main-wrapper\">\n            <div style={ {background: \"white\"} }>\n                    <Header />\n                <div className=\"content-wrap\">\n                    {props.showPanel &&\n                    <ChatList {...props} />}\n                    <ChatPage />\n                </div>\n            </div>\n        </div>) : (\n            <Dimmer active inverted>\n                <Loader inverted />\n            </Dimmer>\n        )\n    )\n};\n\nconst mapStateToProps = (state: IApp): any => ({\n    showPanel: state.showPanel,\n    user: state.user\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    actions: bindActionCreators(actions, dispatch)\n});\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Chat);","import React, {useState} from 'react'\nimport { Button, Form, Grid, Header, Message, Segment } from 'semantic-ui-react'\nimport IApp from \"../../model/IApp\";\nimport {bindActionCreators} from \"redux\";\nimport * as actions from \"../../redux/actions\";\nimport {connect} from \"react-redux\";\n\nconst LoginForm = (props: any) => {\n    const [login, setLogin] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n\n    const onSubmit = () => props.actions.loginUser(login, password);\n\n    return (\n        <Grid textAlign='center' style={{  position: \"absolute\", top: \"30%\", left: \"35%\" }} verticalAlign='middle'>\n            <Grid.Column style={{ width: 500, background: \"white\" }}>\n                <Header as='h2' textAlign='center'>\n                    Login to your account\n                </Header>\n                <Form size='large'>\n                    <Segment stacked>\n                        <Form.Input fluid icon='user' iconPosition='left' placeholder='E-mail address' value={login} onChange={(event, data) => setLogin(data.value)}/>\n                        <Form.Input\n                            fluid\n                            icon='lock'\n                            iconPosition='left'\n                            placeholder='Password'\n                            type='password'\n                            value={password}\n                            onChange={(event, data) => setPassword(data.value)}\n                            error={props.loginPage && !!props.loginPage.error}\n                        />\n\n                        <Button className={\"color-btn\"} fluid size='large' onClick={onSubmit} loading={props.loginPage && props.loginPage.isFetching}>\n                            Login\n                        </Button>\n                    </Segment>\n                </Form>\n                <Message>\n                    New to us? <a href=\"#\" onClick={() => props.actions.changePage(\"reg\")}>Sign Up</a>\n                </Message>\n            </Grid.Column>\n        </Grid>\n    )\n}\n\nconst mapStateToProps = (state: IApp): any => ({\n    showPanel: state.showPanel,\n    loginPage: state.loginPage\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    actions: bindActionCreators(actions, dispatch)\n});\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(LoginForm);","import randomProfile from 'random-profile-generator';\n\n\nexport const fetchHeaderConfig = () => ({\n    headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n    }\n});\n\nexport const getAvatars = (amount: number) => {\n    let res = [];\n    for(let i = 0; i<amount; i++)\n        res[i] = randomProfile.avatar();\n    return res;\n};","import React, {useState} from 'react'\nimport { Button, Form, Grid, Header, Message, Segment, Image } from 'semantic-ui-react'\nimport IApp from \"../../model/IApp\";\nimport {bindActionCreators} from \"redux\";\nimport * as actions from \"../../redux/actions\";\nimport {connect} from \"react-redux\";\nimport ImagePicker from 'react-image-picker'\nimport 'react-image-picker/dist/index.css'\nimport { getAvatars} from \"../../helpers\";\n\nconst imageList = [...getAvatars(14)];\n\nconst RegForm = (props: any) => {\n    const [login, setLogin] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [avatar, setAvatar] = useState(\"\");\n\n\n    const onSubmit = () => props.actions.regUser(login, password, avatar);\n\n    return (\n        <Grid textAlign='center' style={{  position: \"absolute\", top: \"20%\", left: \"35%\" }} verticalAlign='middle'>\n            <Grid.Column style={{ width: 500, background: \"white\" }}>\n                <Header as='h2' textAlign='center'>\n                    Sign up to your account\n                </Header>\n                <Form size='large'>\n                    <Segment stacked>\n                        <Form.Input fluid icon='user' iconPosition='left' placeholder='E-mail address' value={login} onChange={(event, data) => setLogin(data.value)}/>\n                        <Form.Input\n                            fluid\n                            icon='lock'\n                            iconPosition='left'\n                            placeholder='Password'\n                            type='password'\n                            value={password}\n                            onChange={(event, data) => setPassword(data.value)}\n                        />\n                        <Header as='h4' textAlign='left'>\n                            Choose a photo\n                        </Header>\n                        <ImagePicker\n                            images={imageList.map((image, i) => ({src: image, value: i}))}\n                            onPick={(data: any) => setAvatar(data.src)}\n                        />\n                        {props.regPage && props.regPage.error && (<Message\n                            error\n                            content={props.regPage.error}\n                        />)}\n                        <Button className={\"color-btn\"} fluid size='large' onClick={onSubmit} loading={props.regPage && props.regPage.isFetching}>\n                            Sign up\n                        </Button>\n                    </Segment>\n                </Form>\n                <Message>\n                    Already has account? <a href='#'  onClick={() => props.actions.changePage(\"login\")}>Login</a>\n                </Message>\n            </Grid.Column>\n        </Grid>\n    )\n}\n\nconst mapStateToProps = (state: IApp): any => ({\n    showPanel: state.showPanel,\n    regPage: state.regPage\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    actions: bindActionCreators(actions, dispatch)\n});\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(RegForm);","import './styles.sass'\n\n\nconst initParticles = () => {\n    //@ts-ignore\n    // eslint-disable-next-line no-undef\n    particlesJS('particles-js',\n\n        {\n            \"particles\": {\n                \"number\": {\n                    \"value\": 80,\n                    \"density\": {\n                        \"enable\": true,\n                        \"value_area\": 800\n                    }\n                },\n                \"color\": {\n                    \"value\": \"#ffffff\"\n                },\n                \"shape\": {\n                    \"type\": \"circle\",\n                    \"stroke\": {\n                        \"width\": 0,\n                        \"color\": \"#000000\"\n                    },\n                    \"polygon\": {\n                        \"nb_sides\": 5\n                    },\n                    \"image\": {\n                        \"src\": \"img/github.svg\",\n                        \"width\": 100,\n                        \"height\": 100\n                    }\n                },\n                \"opacity\": {\n                    \"value\": 0.5,\n                    \"random\": false,\n                    \"anim\": {\n                        \"enable\": false,\n                        \"speed\": 1,\n                        \"opacity_min\": 0.1,\n                        \"sync\": false\n                    }\n                },\n                \"size\": {\n                    \"value\": 5,\n                    \"random\": true,\n                    \"anim\": {\n                        \"enable\": false,\n                        \"speed\": 40,\n                        \"size_min\": 0.1,\n                        \"sync\": false\n                    }\n                },\n                \"line_linked\": {\n                    \"enable\": true,\n                    \"distance\": 150,\n                    \"color\": \"#ffffff\",\n                    \"opacity\": 0.4,\n                    \"width\": 1\n                },\n                \"move\": {\n                    \"enable\": true,\n                    \"speed\": 2,\n                    \"direction\": \"none\",\n                    \"random\": false,\n                    \"straight\": false,\n                    \"out_mode\": \"out\",\n                    \"attract\": {\n                        \"enable\": false,\n                        \"rotateX\": 600,\n                        \"rotateY\": 1200\n                    }\n                }\n            },\n            \"interactivity\": {\n                \"detect_on\": \"canvas\",\n                \"events\": {\n                    \"onhover\": {\n                        \"enable\": true,\n                        \"mode\": \"repulse\"\n                    },\n                    \"onclick\": {\n                        \"enable\": true,\n                        \"mode\": \"push\"\n                    },\n                    \"resize\": true\n                },\n                \"modes\": {\n                    \"grab\": {\n                        \"distance\": 400,\n                        \"line_linked\": {\n                            \"opacity\": 1\n                        }\n                    },\n                    \"bubble\": {\n                        \"distance\": 400,\n                        \"size\": 40,\n                        \"duration\": 2,\n                        \"opacity\": 8,\n                        \"speed\": 3\n                    },\n                    \"repulse\": {\n                        \"distance\": 200\n                    },\n                    \"push\": {\n                        \"particles_nb\": 4\n                    },\n                    \"remove\": {\n                        \"particles_nb\": 2\n                    }\n                }\n            },\n            \"retina_detect\": true,\n            \"config_demo\": {\n                \"hide_card\": false,\n                \"background_color\": \"#b61924\",\n                \"background_image\": \"\",\n                \"background_position\": \"50% 50%\",\n                \"background_repeat\": \"no-repeat\",\n                \"background_size\": \"cover\"\n            }\n        }\n\n    );\n}\n//         Particles\n//                 // @ts-ignore\n//                 params={{\n//                     \"particles\": {\n//                         \"number\": {\n//                             \"value\": 80,\n//                             \"density\": {\n//                                 \"enable\": true,\n//                                 \"value_area\": 800\n//                             }\n//                         },\n//                         \"color\": {\n//                             \"value\": \"#ffffff\"\n//                         },\n//                         \"shape\": {\n//                             \"type\": \"circle\",\n//                             \"stroke\": {\n//                                 \"width\": 0,\n//                                 \"color\": \"#000000\"\n//                             },\n//                             \"polygon\": {\n//                                 \"nb_sides\": 5\n//                             },\n//                             \"image\": {\n//                                 \"src\": \"img/github.svg\",\n//                                 \"width\": 100,\n//                                 \"height\": 100\n//                             }\n//                         },\n//                         \"opacity\": {\n//                             \"value\": 0.5,\n//                             \"random\": false,\n//                             \"anim\": {\n//                                 \"enable\": false,\n//                                 \"speed\": 1,\n//                                 \"opacity_min\": 0.1,\n//                                 \"sync\": false\n//                             }\n//                         },\n//                         \"size\": {\n//                             \"value\": 10,\n//                             \"random\": true,\n//                             \"anim\": {\n//                                 \"enable\": false,\n//                                 \"speed\": 40,\n//                                 \"size_min\": 0.1,\n//                                 \"sync\": false\n//                             }\n//                         },\n//                         \"line_linked\": {\n//                             \"enable\": true,\n//                             \"distance\": 150,\n//                             \"color\": \"#ffffff\",\n//                             \"opacity\": 0.4,\n//                             \"width\": 1\n//                         },\n//                         \"move\": {\n//                             \"enable\": true,\n//                             \"speed\": 2,\n//                             \"direction\": \"none\",\n//                             \"random\": false,\n//                             \"straight\": false,\n//                             \"out_mode\": \"out\",\n//                             \"attract\": {\n//                                 \"enable\": false,\n//                                 \"rotateX\": 600,\n//                                 \"rotateY\": 1200\n//                             }\n//                         }\n//                     },\n//                     \"interactivity\": {\n//                         \"detect_on\": \"canvas\",\n//                         \"events\": {\n//                             \"onhover\": {\n//                                 \"enable\": true,\n//                                 \"mode\": \"repulse\"\n//                             },\n//                             \"onclick\": {\n//                                 \"enable\": true,\n//                                 \"mode\": \"push\"\n//                             },\n//                             \"resize\": true\n//                         },\n//                         \"modes\": {\n//                             \"grab\": {\n//                                 \"distance\": 400,\n//                                 \"line_linked\": {\n//                                     \"opacity\": 1\n//                                 }\n//                             },\n//                             \"bubble\": {\n//                                 \"distance\": 400,\n//                                 \"size\": 40,\n//                                 \"duration\": 2,\n//                                 \"opacity\": 8,\n//                                 \"speed\": 3\n//                             },\n//                             \"repulse\": {\n//                                 \"distance\": 200\n//                             },\n//                             \"push\": {\n//                                 \"particles_nb\": 4\n//                             },\n//                             \"remove\": {\n//                                 \"particles_nb\": 2\n//                             }\n//                         }\n//                     },\n//                     \"retina_detect\": true,\n//                 }\n//                 }\n//                 style={{\n//                     width: '100%',\n//                 }}\n//                 canvasClassName={\"canvas\"}\n//             >\n//                 {props.children}\n//             </Particles>\n//         </div>\n//     )\n// };\nexport default initParticles;","import React, {useEffect} from 'react';\nimport LoginForm from \"./LoginForm\";\nimport RegForm from \"./RegForm\";\nimport initParticles from \"./Particles/particles\";\nimport './Particles/styles.sass'\n\n\nconst LoginPage = (props: any) => {\n    useEffect(() => {initParticles()}, [])\n\n    return (\n        <>\n            <div id=\"particles-js\" />\n            {props.page === \"login\" ? <LoginForm/> : <RegForm/>}\n        </>\n    )\n};\n\n\nexport default LoginPage;","import React from \"react\";\nimport \"./App.css\";\nimport Chat from \"./components/Chat\";\nimport 'semantic-ui-css/semantic.min.css'\nimport LoginPage from \"./components/LoginPage\";\nimport IApp from \"./model/IApp\";\nimport {connect} from \"react-redux\";\n\nconst App: React.FC = (props: any) => {\n    switch (props.page) {\n        case \"login\":\n        case 'reg':\n            return <LoginPage page={props.page}/>;\n        default:\n            return (\n                <div className=\"App\">\n                    <Chat/>\n                </div>\n            )\n    }\n};\n\nconst mapStateToProps = (state: IApp): any => ({\n    page: state.page\n});\n\nexport default connect(\n    mapStateToProps,\n)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const request: typeof fetch = async (input: RequestInfo, init?: RequestInit | undefined) => {\n    const promise = await fetch(input, init);\n    if(!promise.ok){\n        console.error(promise);\n        throw new Error(promise.statusText + \" \" + promise.status);\n    }\n    return await promise.json();\n};\nexport default request;","import {takeLatest, put} from \"redux-saga/effects\";\nimport * as types from \"./constants\";\nimport * as url from \"../var/routers\";\nimport {fetchHeaderConfig} from \"../helpers\";\nimport axios from 'axios';\nimport request from \"../helpers/webApi\";\n\nfunction* fetchChats(action: any) {\n    try {\n        const res = yield request(url.CHAT_LIST, { headers: fetchHeaderConfig().headers });\n        yield put({type: types.FETCH_CHATS_DONE, payload: res})\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nfunction* fetchMessages(action: any) {\n    try {\n        const res = yield request(url.CHAT_MESSAGES + action.payload.id, { headers: fetchHeaderConfig().headers});\n        yield put({type: types.FETCH_MESSAGES_DONE, payload: res})\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nfunction* loginUser(action: any) {\n\n    try{\n        const res = yield request(url.LOGIN, {\n            method: \"POST\",\n            body: JSON.stringify({\n                username: action.payload.login,\n                password: action.payload.password\n            }),\n            headers: {\n                \"X-Requested-With\": \"XMLHttpRequest\"\n            }\n        });\n        localStorage.setItem('token', res.token);\n        yield put({\n            type: types.CHANGE_PAGE,\n            payload: \"chat\"\n        })\n    }catch (e) {\n        yield put({\n            type: types.LOGIN_FAIL\n        });\n        console.error(e);\n    }\n}\n\nfunction* fetchUser(action: any) {\n    try{\n        const res = yield request(url.USER, {\n            method: \"GET\",\n            headers: fetchHeaderConfig().headers\n        });\n\n        yield put({\n            type: types.FETCH_USER_DONE,\n            payload: {\n                user: res\n            }\n        })\n    }catch (e) {\n        console.error(e);\n        localStorage.removeItem('token');\n        yield put({\n            type: types.REMOVE_STORE\n        })\n    }\n}\n\nfunction* regUser(action: any){\n    const { login, password, avatar } = action.payload;\n    try{\n        // TODO doesn't work with fetch, even if hard-code correct content-type\n        const res = yield axios({\n            method: \"POST\",\n            url: url.REG,\n            data: {\n                username: login,\n                password,\n                avatar\n            }\n        });\n        yield put({\n            type: types.LOGIN,\n            payload: {\n                login, password\n            }\n        })\n    }catch (error) {\n        yield put({\n            type: types.REG_FAIL,\n            payload: { error }\n        });\n        console.error(error);\n    }\n}\n\nexport function* watchSaga() {\n    yield takeLatest(types.FETCH_CHATS, fetchChats);\n    yield takeLatest(types.FETCH_MESSAGES, fetchMessages);\n    yield takeLatest(types.LOGIN, loginUser);\n    yield takeLatest(types.FETCH_USER, fetchUser);\n    yield takeLatest(types.REG, regUser);\n}","import IApp from './../model/IApp'\nimport IAction from './../model/IAction'\nimport * as types from './constants';\n\nconst initialState: IApp = {\n    chatList: {\n        data: null,\n        isFetching: false\n    },\n    user: {\n      isFetching: false,\n      data: null\n    },\n    chat: {\n        isFetching: false,\n        isOpen: false,\n        data: []\n    },\n    showPanel: true,\n    page: localStorage.getItem('token') && localStorage.getItem('token') !== \"undefined\" ? \"chat\" : \"login\",\n\n};\n\nexport function reducer (state: IApp = initialState, action: IAction): IApp {\n    switch(action.type) {\n        case types.FETCH_CHATS:\n            return {\n                ...state,\n                chatList: {\n                    ...state.chatList,\n                    isFetching: true\n                }\n            };\n        case types.TOGGLE_PANEL:\n            return {\n                ...state,\n                showPanel: !state.showPanel\n            };\n        case types.FETCH_CHATS_DONE:\n            return {\n                ...state,\n                chatList: {\n                    ...state.chatList,\n                    data: action.payload,\n                    isFetching: false,\n                }\n            };\n        case types.FETCH_MESSAGES:\n            return {\n                ...state,\n                chat: {\n                    ...state.chat,\n                    isFetching: true,\n                    isOpen: true\n                }\n            };\n        case types.FETCH_MESSAGES_DONE:\n            return {\n                ...state,\n                chat: {\n                    ...state.chat,\n                    data: action.payload,\n                    isFetching: false\n                }\n            };\n        case types.ADD_NEW_MESSAGE:\n            return {\n                ...state,\n                chat: {\n                    ...state.chat,\n                    data: [...(state.chat.data || []), action.payload.message]\n                }\n            };\n        case types.CHANGE_PAGE:\n            return {\n                ...state,\n                page: action.payload\n            };\n        case types.REMOVE_STORE:\n            return {\n                ...initialState,\n                page: \"login\"\n            };\n        case types.FETCH_USER:\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    isFetching: true\n                }\n            };\n        case types.FETCH_USER_DONE:\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    isFetching: false,\n                    data: action.payload.user\n                }\n            };\n        case types.LOGIN:\n            return {\n                ...state,\n                loginPage: {\n                    isFetching: true,\n                    error: null\n                }\n            };\n        case types.LOGIN_FAIL:\n            return {\n                ...state,\n                loginPage: {\n                    isFetching: false,\n                    error: true\n                }\n            };\n        case types.REG:\n            return {\n                ...state,\n                regPage: {\n                    isFetching: true,\n                    error: null\n                }\n            };\n        case types.REG_FAIL:\n            return {\n                ...state,\n                regPage:{\n                    isFetching: false,\n                    error: action.payload.error\n                }\n            };\n        default:\n            return state;\n    }\n} ","import { createStore, applyMiddleware } from \"redux\";\nimport { watchSaga } from \"./redux/saga\";\nimport { reducer } from \"./redux/reducer\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst store = () => {\n  const middlewareSaga = createSagaMiddleware();\n  const store = createStore(reducer, composeWithDevTools(\n    applyMiddleware(middlewareSaga)\n  ));\n  middlewareSaga.run(watchSaga);\n  return store;\n};\n\nexport default store();\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from \"react-redux\";\nimport store from \"./configStore\";\n\nReactDOM.render(\n    <Provider store={store}>\n    <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}